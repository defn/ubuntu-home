#!/usr/bin/env bash

function lookup_pip {
  local nm_block="$1"; shift
  local nm_package="${1:-${nm_block}}"
  cat "${BOARD_PATH}/Pipfile.lock.${nm_block}" | "$(env PATH="$PATH:${BOARD_PATH:-${HOME}}/work/jq/bin" which jq | head -1)" -r --arg package "$nm_package" '.default[$package].version' | sed 's#==##'
}

export ANSIBLE_VERSION="$(lookup_pip ansible)"
export ASCIINEMA_VERSION="$(lookup_pip asciinema)"
export AWSVAULT_VERSION=4.1.0
export CHAMBER_VERSION=1.9.0
export AWS_VERSION="$(lookup_pip aws awscli)"
export BLESS_VERSION=0.2.0
export CFSSL_VERSION=1.2.0
export CHEF_VERSION=12.21.26
export CONCOURSE_VERSION=3.5.0
export CONSUL_TEMPLATE_VERSION=0.19.4
export CONSUL_VERSION=1.0.0
export CREDSTASH_VERSION="$(lookup_pip credstash)"
export DOCTL_VERSION=1.7.0
export DOCKER_COMPOSE_VERSION=1.17.0
export DOCKER_MACHINE_VERSION=0.13.0
export DOCKER_VERSION=17.09.0-ce
export DOCKER_UBUNTU_VERSION=17.03.2~ce
export EASY_RSA_VERSION=2.2.2
export ETCD_VERSION=3.2.9
export PYHCL_VERSION=0.3.9
export GETSSL_VERSION=2.10
export CHECKSSL_VERSION=1.18
export HUB_VERSION=2.2.9
export GHI_VERSION=1.2.0
export GO_VERSION=1.9.2
export HUGO_VERSION=0.30.2
export INSPEC_VERSION=1.43.8
export IPFS_VERSION=0.4.11
export JAVA_VERSION=9.0.1
export JAVA_URL='http://download.oracle.com/otn-pub/java/jdk/9.0.1+11/jdk-9.0.1_'
export JQ_VERSION=1.5
export KITCHEN_VERSION=1.19.0
export KMSAUTH_VERSION="$(lookup_pip kmsauth)"
export LINKERD_VERSION=1.3.0
export LXD_VERSION=2.19 # check if the repos have these packages
export GMSL_VERSION=1.1.7
export NAMERD_VERSION=1.3.0
export NAMERCTL_VERSION=0.8.6
export NETDATA_VERSION=1.7.0
export NODE_VERSION=8.9.1
export NVM_VERSION=0.33.5
export PACKER_VERSION=1.0.4
export RUBY_ENV_VERSION=1.1.1
export RUBY_BUILD_VERSION=20170914
export GEM_VERSION=2.7.2
export BUNDLER_VERSION=1.16.0
export TFENV_VERSION=0.5.2
export VAGRANT_VERSION=2.0.1
export YARN_VERSION=1.3.2
export VIRTUALBOX_VERSION=5.2.0
export OPENRESTY_VERSION=1.11.2.4
export LUAROCKS_VERSION=2.4.2
export KONG_VERSION=0.11.1
export CHALICE_VERSION="$(lookup_pip chalice)"
export AWLESS_VERSION=0.1.4
export NETDATA_VERSION=1.8.0
export XXX_VERSION=0.0.1
export JENKINS_VERSION=2.73.2
export HEROKU_VERSION=6.14.34
export PACKET_VERSION=0.0.1
export EB_VERSION="$(lookup_pip eb awsebcli)"
export GOTTY_VERSION=1.0.1
export DRONE_VERSION=0.7.0
export PROTOC_VERSION=3.4.0
export COOKIECUTTER_VERSION="$(lookup_pip cookiecutter)"
export ZEROTIER_VERSION=1.2.4
export FABIO_VERSION=1.5.2
export RUST_VERSION=1.21.0
export PYTHON_ENV_VERSION=1.1.5
export PY27_VERSION=2.7.14
export PY36_VERSION=3.6.3
export PIPENV_VERSION=8.3.2
export ECS_VERSION=1.0.0
export TMUX_VERSION=2.5
export TMUXINATOR_VERSION=0.10.0
