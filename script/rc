#!/usr/bin/env bash

function lookup_pip {
  local nm_block="$1"; shift
  local nm_package="${1:-${nm_block}}"
  cat "${BOARD_PATH}/Pipfile.lock.${nm_block}" | "$(env PATH="$PATH:${BOARD_PATH:-${HOME}}/work/jq/bin" which jq | head -1)" -r --arg package "$nm_package" '.default[$package].version' | sed 's#==##'
}

export ANSIBLE_VERSION="$(lookup_pip ansible)"
export ASCIINEMA_VERSION="$(lookup_pip asciinema)"
export AWSVAULT_VERSION=4.1.0
export CHAMBER_VERSION=1.14.1
export AWS_VERSION="$(lookup_pip aws awscli)"
export AWS_ENCRYPTION_VERSION="$(lookup_pip aws aws-encryption-sdk-cli)"
export AWS_MOBILE_VERSION=1.0.4
export BLESS_VERSION=0.2.0
export CFSSL_VERSION=1.2.0
export CHEF_VERSION=12.21.26
export CONCOURSE_VERSION=3.5.0
export CONSUL_TEMPLATE_VERSION=0.19.4
export CONSUL_VERSION=1.0.2
export CREDSTASH_VERSION="$(lookup_pip credstash)"
export DOCTL_VERSION=1.7.0
export DOCKER_COMPOSE_VERSION=1.18.0
export DOCKER_MACHINE_VERSION=0.13.0
export DOCKER_VERSION=17.09.0-ce
export DOCKER_UBUNTU_VERSION=17.06.2~ce
export EASY_RSA_VERSION=2.2.2
export ETCD_VERSION=3.2.11
export PYHCL_VERSION=0.3.9
export GETSSL_VERSION=2.10
export CHECKSSL_VERSION=1.18
export HUB_VERSION=2.3.0-pre10
export GHI_VERSION=1.2.0
export GITHUB_RELEASE_VERSION=0.7.2
export GO_VERSION=1.9.2
export GOVENDOR_VERSION=1.0.8
export HUGO_VERSION=0.31.1
export INSPEC_VERSION=1.47.0
export IPFS_VERSION=0.4.13
export JAVA_VERSION='1.8.0_151'
export JAVA_URL='http://download.oracle.com/otn-pub/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/jdk-8u151-'
export JQ_VERSION=1.5
export KITCHEN_VERSION=1.19.2
export KMSAUTH_VERSION="$(lookup_pip kmsauth)"
export LINKERD_VERSION=1.3.4
export NAMERD_VERSION= "${LINKERD_VERSION}"
export LXD_VERSION=2.19 # check if the repos have these packages
export GMSL_VERSION=1.1.7
export NAMERCTL_VERSION=0.8.6
export NETDATA_VERSION=1.9.0
export NODE_VERSION=8.9.3
export NVM_VERSION=0.33.6
export PACKER_VERSION=1.1.3
export RUBY_ENV_VERSION=1.1.1
export RUBY_BUILD_VERSION=20171215
export GEM_VERSION=2.7.3
export BUNDLER_VERSION=1.16.0
export TFENV_VERSION=0.6.0
export VAGRANT_VERSION=2.0.1
export YARN_VERSION=1.3.2
export VIRTUALBOX_VERSION=5.2.2
export OPENRESTY_VERSION=1.11.2.4
export LUAROCKS_VERSION=2.4.2
export KONG_VERSION=0.11.2
export KONGA_VERSION=0.9.0
export CHALICE_VERSION="$(lookup_pip chalice)"
export AWLESS_VERSION=0.1.4
export XXX_VERSION=0.0.1
export JENKINS_VERSION=2.89.2
export HEROKU_VERSION=6.14.34
export PACKET_VERSION=0.0.1
export EB_VERSION="$(lookup_pip eb awsebcli)"
export GOTTY_VERSION=1.0.1
export DRONE_VERSION=0.7.0
export PROTOC_VERSION=3.4.0
export COOKIECUTTER_VERSION="$(lookup_pip cookiecutter)"
export ZEROTIER_VERSION=1.2.4
export FABIO_VERSION=1.5.2
export RUST_VERSION=1.22.1
export PYTHON_ENV_VERSION=1.2.0
export PY27_VERSION=2.7.14
export PY36_VERSION=3.6.3
export PIPENV_VERSION=9.0.1
export ECS_VERSION=1.0.0
export TMUX_VERSION=2.5
export TMUXINATOR_VERSION=0.10.0
export CRYFS_VERSION=0.9.7
export VAULT_VERSION=0.9.0
export REGISTRATOR_VERSION=7
export TUGBOAT_VERSION=1.0.4
export CLOJURE_VERSION=1.9.0.273
